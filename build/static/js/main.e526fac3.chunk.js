(this.webpackJsonpsmartplug=this.webpackJsonpsmartplug||[]).push([[0],{27:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},31:function(e,t,n){e.exports=n(50)},36:function(e,t,n){},38:function(e,t,n){},44:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(25),o=n.n(c),i=(n(36),n(2)),u=n.n(i),s=n(3),l=n(18),m=function(e,t){return Object(s.a)(u.a.mark((function n(){var a,r;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("http://127.0.0.1:8000/api/getcommand/"+t+"?username="+e);case 2:return a=n.sent,n.next=5,a.json();case 5:return r=n.sent,n.abrupt("return",{device:t,command:r.command});case 7:case"end":return n.stop()}}),n)})))()},p=function(e){return Object(s.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://127.0.0.1:8000/api/check/useraccount?username="+e.username+"&password="+e.password);case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,console.log(a),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})))()},f=function(e){return Object(s.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://127.0.0.1:8000/api/getdevicesinfos/"+e);case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,console.log(a),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})))()},d=function(e){return Object(s.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://127.0.0.1:8000/api/gettrigger/"+e);case 2:return n=t.sent,t.next=5,n.json();case 5:return a=t.sent,console.log(a),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})))()},h=n(4),b=(n(38),function(){var e=Object(l.a)(),t=e.register,n=e.handleSubmit,a=Object(h.e)(),c=function(){var e=Object(s.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(t);case 2:(n=e.sent).status&&a.push("/core",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("form",{style:{width:"250px",fontSize:"28px",display:"flex",flexDirection:"column"},onSubmit:n(c)},r.a.createElement("label",{className:"LoginLabel"},"Username: "),r.a.createElement("input",{className:"LoginInput",ref:t,name:"username",defaultValue:""}),r.a.createElement("label",{className:"LoginLabel"},"Password: "),r.a.createElement("input",{className:"LoginInput",ref:t,name:"password",defaultValue:""}),r.a.createElement("br",null),r.a.createElement("button",{style:{height:"50px",backgroundColor:"#61dafb",fontSize:"28px"}},"Login")))}),v=n(5),g=n(6),x=n(28),j=n.n(x),w=n(27),E=n.n(w),O=(n(44),n(45),{listening:!0,microphone:"red",bgcolor:"#282c34",time:(new Date).toLocaleString(),username:"",usercommands:[]}),y=function(){var e=Object(a.useState)(new Date),t=Object(g.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=setInterval((function(){c(new Date)}),1e3);return function(){clearInterval(e)}})),r.a.createElement("div",null,r.a.createElement("p",null,n.toLocaleTimeString()))},k=function(){var e=Object(h.e)();return r.a.createElement("div",null,r.a.createElement("button",{style:{position:"absolute",top:10,left:10,width:150,height:20},onClick:function(){e.push("/")}},"Log Out"))},S=new(window.webkitSpeechRecognition||window.SpeechRecognition);S.continous=!0,S.interimResults=!0,S.lang="en-US";var C=new SpeechSynthesisUtterance("Yes"),D=function(){var e=Object(a.useState)(O),t=Object(g.a)(e,2),n=t[0],c=n.listening,o=n.microphone,i=n.bgcolor,l=n.commandsAndDevices,m=t[1],p=Object(h.f)();Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(p.state.username);case 2:t=e.sent,m((function(e){return Object(v.a)(Object(v.a)({},e),{},{commandsAndDevices:t})}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return function(){e.apply(this,arguments)}(),function(){!0}}),[]);var b=function(){var e=Object(s.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:if(!(n<l.length)){e.next=9;break}if(t!==l[n].command){e.next=6;break}return e.next=5,d(l[n].device);case 5:speechSynthesis.speak(C);case 6:n++,e.next=1;break;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){c?(m((function(e){return Object(v.a)(Object(v.a)({},e),{},{microphone:"green"})})),S.start(),S.onend=function(){S.start()}):(S.stop(),S.onend=function(){m((function(e){return Object(v.a)(Object(v.a)({},e),{},{microphone:"red"})}))}),S.onresult=function(e){var t=" ";t=e.results[0][0].transcript,e.results[0].isFinal&&(b(t),t=" "),document.getElementById("final").innerHTML=t},S.onerror=function(e){console.log("Error occurred in recognition: "+e.error)}},w=Object(h.e)();return r.a.createElement("div",null,r.a.createElement("header",{className:"AppHeader",style:{backgroundColor:i}},r.a.createElement(y,null),r.a.createElement("div",null,"Click React to speak"),r.a.createElement("button",{style:{position:"absolute",top:40,left:10,width:150,height:20},onClick:function(){S.stop(),S.onend=function(){m((function(e){return Object(v.a)(Object(v.a)({},e),{},{microphone:"red"})}))},w.push("/DevicesAndCommands",p.state)}},"Update Commands"),r.a.createElement(k,null),r.a.createElement("button",{id:"microphone-btn",className:"CoreButton",onClick:function(){m((function(e){return Object(v.a)(Object(v.a)({},e),{},{listening:!c})})),x()}},r.a.createElement("img",{src:E.a,className:"AppLogo",alt:"logo"})),r.a.createElement("div",{id:"final",className:"CoreFinalScript"})),r.a.createElement(j.a,{fontSize:"large",style:{position:"absolute",color:o,top:10,right:10}}))},L=n(15),N=function(e,t){return{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({device:e,command:t})}},I=function(e){fetch("http://127.0.0.1:8000/api/updatecommand",e).then((function(e){return console.log(e)}))},z=(n(48),function(e){var t=Object(l.a)(),n=t.register,a=t.handleSubmit,c=Object(h.e)(),o=function(){var t=Object(s.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=N(e.value.device,n.command),t.next=3,I(a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=Object(h.f)();return r.a.createElement("div",null,r.a.createElement("form",{style:{width:"500px",fontSize:"28px",display:"flex",flexDirection:"column"},onSubmit:a(o)},r.a.createElement("label",{style:{color:"white",paddingBottom:"22px",paddingTop:"22px"}},"Command: "),r.a.createElement("input",{style:{height:"50px",fontSize:"28px"},ref:n,name:"command",defaultValue:e.value.command}),r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},r.a.createElement("button",{className:"CommandFormButton",onClick:function(){c.push("/core",i.state)}},"go back"),r.a.createElement("button",{className:"CommandFormButton"},"submit"))))}),B=function(){var e=Object(a.useState)([]),t=Object(g.a)(e,2),n=t[0],c=t[1],o=Object(h.f)(),i=Object(a.useState)({device:"plug1-on",command:"",username:""}),l=Object(g.a)(i,2),p=l[0],d=l[1];Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(o.state.username);case 2:t=e.sent,c(t),d((function(e){return Object(v.a)(Object(v.a)({},e),{},{username:o.state.username,command:t[0].command})}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var b=function(){var e=Object(s.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(o.state.username,t.target.value);case 2:n=e.sent,d((function(e){return Object(v.a)(Object(v.a)({},e),{},{username:o.state.username,device:n.device,command:n.command})}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("p",{style:{fontSize:"28px"}},"The Device:"),r.a.createElement("select",{style:{width:"500px",height:"50px",fontSize:"28px"},onChange:function(e){return b(e)}},n.map((function(e){return r.a.createElement("option",{key:e.device,value:e.device},e.device)}))),r.a.createElement(z,{value:p}))},T=function(){return r.a.createElement("div",{style:{color:"white",minHeight:"100vh",backgroundColor:"#282c34",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement(k,null),r.a.createElement(B,null))},A=function(){return r.a.createElement(L.a,null,r.a.createElement("div",{style:{color:"white",minHeight:"100vh",backgroundColor:"#282c34",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"}},r.a.createElement(h.a,{path:"/",exact:!0,component:b}),r.a.createElement(h.a,{path:"/devicesandcommands",exact:!0,component:T}),r.a.createElement(h.a,{path:"/core",exact:!0,component:D})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.e526fac3.chunk.js.map